# Air configuration for hot-reload development of the github-webhook service.
# Run from the repository root: air -c cmd/github-webhook/.air.toml
# Or run from cmd/github-webhook/: air

root = "../.."
tmp_dir = "tmp"

[build]
  # Build the github-webhook binary from the repository root.
  cmd = "go build -o ./tmp/github-webhook ./cmd/github-webhook"
  bin = "./tmp/github-webhook"
  # Directories to watch for changes (relative to root).
  include_dir = ["cmd/github-webhook", "internal/webhook"]
  include_ext = ["go"]
  exclude_dir = ["tmp", "vendor"]
  # Kill the running process before restarting.
  send_interrupt = true
  kill_delay = "500ms"
  # Delay before triggering a rebuild after a change.
  delay = 1000

[log]
  time = true

[color]
  build = "yellow"
  runner = "green"
